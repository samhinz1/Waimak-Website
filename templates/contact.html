<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WAM | Contact</title>
    <link rel="icon" type="image/webp" href="../static/Waimakicon.webp">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Load reCAPTCHA v3 only -->
    <script src="https://www.google.com/recaptcha/api.js?render=6LfPhzArAAAAAECjxzSjmVp_IezCQvjblLSJON7u"></script>
</head>
<body>
    {% include 'navbar.html' %}

    <div class="banner">
        <img src="../static/contactimage.webp" alt="Banner Image">
        <h2 class="banner-title">Contact Us | </h2>
    </div>

    <section class="contact-section">
        <div class="contact-form">
            <h3>Get in Touch</h3>
            <p>For any inquiries, please use the contact form below or contact us directly with the details below:</p>
            
            <div class="email-contacts">
                <p><i class="fas fa-envelope"></i> info@waimakassetmanagement.com</p>
                <p><i class="fas fa-phone"></i> (+61) 0424 639 003</p>
            </div>

            <h3>Contact Form</h3>
            <form action="https://api.web3forms.com/submit" method="POST" id="contactForm">
                <input type="hidden" name="access_key" value="351b32db-4726-4d99-826f-f8e36d1d2664">

                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>

                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="4" required></textarea>
                </div>

                <!-- Spam protection - Honeypot fields that should remain empty -->
                <input type="text" name="botcheck" style="display: none;">
                <input type="text" name="name_verify" style="opacity: 0; position: absolute; z-index: -1;">
                <input type="email" name="email_verify" style="opacity: 0; position: absolute; z-index: -1;">

                <!-- reCAPTCHA v3 token (added dynamically) -->
                <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response">
                <input type="hidden" name="recaptcha_action" value="contact_form">
                
                <!-- Explicit captcha container removed -->

                <!-- Feedback messages -->
                <div id="successMessage" style="display: none; color: green; margin: 20px 0;">
                    Success: We have received your email and will reply to you shortly
                </div>
                <div id="errorMessage" style="display: none; color: red; margin: 20px 0;">
                    Error: Please complete the form correctly and try again
                </div>
                <div id="spamMessage" style="display: none; color: red; margin: 20px 0;">
                    Error: This submission was identified as potential spam. Please try again or contact us directly via email.
                </div>

                <button type="submit" class="submit-btn" id="submit-btn">Send Message</button>
            </form>
        </div>
    </section>





    <style>
        .banner {
            position: relative;
            width: 100%;
            height: 50vh;
            overflow: hidden;
            margin-bottom: 0;
        }

        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
        }
        .faq-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            padding-top: 50px;
            padding-bottom: 120px;
        }

        .faq-item {
            margin-bottom: 10px;
            border-radius: 5px;
            overflow: hidden;
        }

        .faq-question {
            width: 100%;
            padding: 15px 20px;
            background: #f8f8f8;
            border: none;
            text-align: left;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .faq-question:hover {
            background: #f0f0f0;
        }

        .faq-answer {
            display: none;
            padding: 15px 20px;
            background: #fff;
            border: 1px solid #f0f0f0;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }

        .faq-icon {
            transition: transform 0.3s ease;
        }

        .faq h2 {
            text-align: center;
            padding-top: 50px;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-container ul {
            display: flex;
            align-items: center;
        }

        .login-item {
            margin-left: 30px; /* Adds space between regular nav items and login */
        }

        .login-button {
            border: 2px solid current
        }

        .team-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
        }

        .feature-card {
            perspective: 1000px;
            height: 400px;
            width: 100%;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background: white;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .feature-card:hover .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background: white;
            padding: 20px;
        }

        .card-back {
            transform: rotateY(180deg);
            display: flex;
        }

        .back-left {
            width: 33%;
            padding-right: 20px;
            border-right: 1px solid #ddd;
        }

        .back-right {
            width: 67%;
            padding-left: 20px;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .team-photo-small {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .contact-section {
            padding: 60px 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 40px;
        }

        .contact-info, .contact-form {
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .email-contacts, .address {
            margin: 20px 0;
        }

        .email-contacts p, .address p {
            margin: 10px 0;
        }

        .fas {
            margin-right: 10px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
        }

        .submit-btn {
            background: #333;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: #444;
        }

        @media (max-width: 768px) {
            .contact-container {
                grid-template-columns: 1fr;
            }
        }

        .contact-section h2 {
            text-align: center;
        }

        .map-container {
            margin-top: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .fade-line {
            transition: opacity 0.3s ease;
        }

        .banner-title {
    position: absolute;
    bottom: 15%;
    left: 10%;
    color: rgba(255, 255, 255, 0.881);
    margin: 0;
    font-weight: 250;
    font-size: 4rem;
}
    </style>

    <script>
        const form = document.getElementById('contactForm');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');
        const spamMessage = document.getElementById('spamMessage');
        const submitButton = document.getElementById('submit-btn');
        
        // Store submission time to prevent rapid submissions
        let lastSubmissionTime = 0;
        
        // Add event tracking for bot detection
        let userInteracted = false;
        let typeEvents = 0;
        let scrollEvents = 0;
        let mouseEvents = 0;
        
        // Track user interaction events that real humans typically perform
        document.addEventListener('keydown', () => { userInteracted = true; typeEvents++; });
        document.addEventListener('scroll', () => { userInteracted = true; scrollEvents++; });
        document.addEventListener('mousemove', () => { userInteracted = true; mouseEvents++; });
        
        // Initialize reCAPTCHA
        grecaptcha.ready(function() {
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Check for rapid successive submissions (throttling)
                const now = Date.now();
                if (now - lastSubmissionTime < 10000) { // 10 seconds
                    spamMessage.style.display = 'block';
                    successMessage.style.display = 'none';
                    errorMessage.style.display = 'none';
                    return;
                }
                
                // Check if the user has interacted with the page like a human would
                // Most bots don't trigger these events or do so in non-human patterns
                if (!userInteracted || typeEvents < 2 || (mouseEvents < 5 && scrollEvents < 1)) {
                    console.log('Bot behavior detected - low interaction');
                    spamMessage.style.display = 'block';
                    successMessage.style.display = 'none';
                    errorMessage.style.display = 'none';
                    return;
                }
                
                // Check honeypot fields - if these are filled, it's likely a bot
                if (form.botcheck.value !== '' || 
                    form.name_verify.value !== '' || 
                    form.email_verify.value !== '') {
                    // Silently fail for bots
                    console.log('Bot detected');
                    spamMessage.style.display = 'block';
                    successMessage.style.display = 'none';
                    errorMessage.style.display = 'none';
                    return;
                }
                
                try {
                    // Get reCAPTCHA token
                    submitButton.disabled = true;
                    submitButton.textContent = 'Sending...';
                    
                    const token = await grecaptcha.execute('6LfPhzArAAAAAECjxzSjmVp_IezCQvjblLSJON7u', {action: 'contact_form'});
                    document.getElementById('g-recaptcha-response').value = token;
                    
                    // Form validation
                    const name = form.name.value.trim();
                    const email = form.email.value.trim();
                    const message = form.message.value.trim();
                    const phone = form.phone.value.trim();
                    
                    // Additional check - detect if the same value is used in regular and honeypot fields
                    // This catches spammers who fill everything in
                    if (email === form.email_verify.value || name === form.name_verify.value) {
                        console.log('Bot detected - matching honeypot fields');
                        spamMessage.style.display = 'block';
                        successMessage.style.display = 'none';
                        errorMessage.style.display = 'none';
                        return;
                    }
                    
                    // Simple validation checks
                    if (name.length < 2 || email.indexOf('@') === -1 || message.length < 10) {
                        throw new Error('Please fill out all fields correctly');
                    }
                    
                    // Check for suspicious patterns in email
                    const suspiciousEmailPatterns = [
                        /\.ru$/i, // Russian domains often used for spam
                        /\.xyz$/i, // Common for temporary domains
                        /^(admin|info|sales|support|service)@/i, // Generic addresses
                        /\d{4,}@/i // Emails with many numbers
                    ];
                    
                    // Additional suspicious patterns when combined with other signals
                    const moderatelySuspiciousPatterns = [
                        /@icloud\.com$/i, // Frequently used by spammers
                        /@gmail\.com$/i,  // When combined with random usernames
                        /@hotmail\.com$/i,
                        /@outlook\.com$/i
                    ];
                    
                    // Check for suspicious name patterns (random letters, unusual capitalization)
                    const suspiciousNamePattern = /^[A-Z][a-z]*[A-Z][a-z]*$|^[a-zA-Z]{8,}$/;
                    if (suspiciousNamePattern.test(name)) {
                        console.log('Bot detected - suspicious name pattern');
                        spamMessage.style.display = 'block';
                        successMessage.style.display = 'none';
                        errorMessage.style.display = 'none';
                        return;
                    }
                    
                    if (suspiciousEmailPatterns.some(pattern => pattern.test(email))) {
                        // Higher scrutiny for suspicious emails
                        if (message.length < 30 || message.toLowerCase().includes('http')) {
                            spamMessage.style.display = 'block';
                            successMessage.style.display = 'none';
                            errorMessage.style.display = 'none';
                            return;
                        }
                    }
                    
                    // For moderately suspicious patterns, apply additional checks
                    if (moderatelySuspiciousPatterns.some(pattern => pattern.test(email))) {
                        // If email is moderately suspicious and name looks random or message is empty
                        if (!/^[A-Za-z\s]{2,30}$/.test(name) || message.length < 20) {
                            console.log('Bot detected - suspicious email combined with other signals');
                            spamMessage.style.display = 'block';
                            successMessage.style.display = 'none';
                            errorMessage.style.display = 'none';
                            return;
                        }
                    }
                    
                    // More spam detection - check for typical spam patterns
                    const spamPatterns = [
                        /buy viagra/i, 
                        /casino/i, 
                        /lottery/i,
                        /\[url=/i,
                        /http:\/\/\S+/g,
                        /sex/i,
                        /dating/i,
                        /bitcoin/i,
                        /crypto/i,
                        /investment opportunity/i,
                        /seo/i,
                        /backlink/i,
                        /earn money/i
                    ];
                    
                    if (spamPatterns.some(pattern => 
                        pattern.test(name) || pattern.test(email) || pattern.test(message))) {
                        spamMessage.style.display = 'block';
                        successMessage.style.display = 'none';
                        errorMessage.style.display = 'none';
                        return;
                    }
                    
                    // If too many links in message, likely spam
                    const linkCount = (message.match(/http/g) || []).length;
                    if (linkCount > 2) {
                        spamMessage.style.display = 'block';
                        successMessage.style.display = 'none';
                        errorMessage.style.display = 'none';
                        return;
                    }

                    // Submit form with all the checks
                    const formData = new FormData(this);
                    
                    // Add a timestamp to help identify when the form was submitted
                    formData.append('submission_time', new Date().toString());
                    formData.append('timezone', Intl.DateTimeFormat().resolvedOptions().timeZone);
                    
                    // Add a custom field to help filter spam in web3forms
                    formData.append('form_metadata', JSON.stringify({
                        browser: navigator.userAgent,
                        referrer: document.referrer,
                        screen_size: `${window.innerWidth}x${window.innerHeight}`
                    }));
                    
                    const response = await fetch(this.action, {
                        method: 'POST',
                        body: formData
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        this.reset();
                        successMessage.style.display = 'block';
                        errorMessage.style.display = 'none';
                        spamMessage.style.display = 'none';
                        // Update last submission time
                        lastSubmissionTime = Date.now();
                    } else {
                        throw new Error(data.message || 'Form submission failed');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    errorMessage.textContent = 'Error: ' + (error.message || 'Something went wrong. Please try again.');
                    errorMessage.style.display = 'block';
                    successMessage.style.display = 'none';
                    spamMessage.style.display = 'none';
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Send Message';
                }
            });
        });

        function wrapTextNodes(container) {
            // Skip if this is a script or style tag
            if (['SCRIPT', 'STYLE'].includes(container.tagName)) return;
            
            const walker = document.createTreeWalker(
                container,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );

            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                // Skip empty text nodes
                if (node.textContent.trim() === '') continue;
                textNodes.push(node);
            }

            textNodes.forEach(textNode => {
                // Split text by lines and wrap each in a span
                const lines = textNode.textContent.split('\n');
                const spans = lines.map((line, index) => {
                    if (line.trim() === '') return document.createTextNode('\n');
                    const span = document.createElement('span');
                    span.textContent = line;
                    span.className = 'fade-line';
                    return span;
                });

                const parent = textNode.parentNode;
                const fragment = document.createDocumentFragment();
                spans.forEach(span => fragment.appendChild(span));
                parent.replaceChild(fragment, textNode);
            });
        }

        function handleScroll() {
            const fadeLines = document.querySelectorAll('.fade-line');
            const navbar = document.querySelector('.navbar');
            const navbarHeight = navbar.offsetHeight;
            const fadeStartOffset = 150;

            fadeLines.forEach(element => {
                const rect = element.getBoundingClientRect();
                const distanceToNavbar = rect.top - navbarHeight;
                
                if (distanceToNavbar < fadeStartOffset && distanceToNavbar > -rect.height) {
                    const opacity = Math.max(0, Math.min(1, distanceToNavbar / fadeStartOffset));
                    element.style.opacity = opacity;
                } else if (distanceToNavbar >= fadeStartOffset) {
                    element.style.opacity = 1;
                } else {
                    element.style.opacity = 0;
                }
            });
        }

        // Initialize the effect
        document.addEventListener('DOMContentLoaded', () => {
            // Target all text-containing sections including contact info and form
            const sections = document.querySelectorAll(
                '.contact-section h2, .contact-info h3, .contact-info p, .contact-form h3, .contact-form p, .form-group label, .disclaimer, .email-contacts p'
            );
            sections.forEach(section => wrapTextNodes(section));
            
            // Add fade-line class to icons
            document.querySelectorAll('.fas').forEach(icon => {
                icon.classList.add('fade-line');
            });
            
            window.addEventListener('scroll', handleScroll);
            handleScroll();
        });
    </script>

    <div class="disclaimer">
        <p>Waimak Asset Management (Waimak) Pty Ltd (ABN: 92 647 876 346) is a Corporate Authorised Representative (No 1288629) of Sanlam Private Wealth (AFS License No 337927).
            Waimak does not provide personal advice. All trade information and content are not to be considered financial advice of any kind. You should obtain independent financial advice in respect of any financial decision in relation to any stock discussed on Waimak. Information provided is general advice only and should not be relied upon as the basis of an investment decision.
            
            By using Waimak's site and services, you have agreed to the Waimak's Terms of Service and Privacy Policy, and acknowledged that Waimak Asset Management Pty Ltd and Traders are not liable to you, or any other party, for your use of any information you receive. Information presented on Waimak is from sources we believe are reliable. Waimak, its directors, employees, associates and consultants do not represent, warrant or guarantee expressly or impliedly, that the information contained in any medium is complete or accurate. This document is for private communication to Waimak users and is not intended for public circulation. Disclosure of interest: Waimak Pty Ltd may receive commissions or payments from parties mentioned or discussed. Waimak and its associates may hold positions and trade in shares in the companies discussed or displayed. Waimak is not an advisory service, all investors should consult a licensed professional before making any investment decisions. By accessing the Waimak's services, you agree to relinquish any recourse to claim damages resulting from the information received through the from us. The information that we provide has been obtained from sources which we believe are reliable however we make no guarantee as to the accuracy or completeness of such information. Please be aware, it is possible that Waimak Asset Management (WAM), it's employees or associates have a position in (either long or short) or have previously bought or sold shares in the companies for which information is presented. At times stocks managed or discussed by WAM may be already owned by any, of Waimak's employees or associates and their related entities. The information provided by Waimakassetmanagement.com, other communications, any related sites, webinars, emails or newsletters is intended for your sole consumption and use and is not be distributed to or shared with any 3rd party. All data is for your personal use only; it may not be posted on web sites, message boards, communicated verbally, or be used in products or services. All material in the Waimak website and its related websites and pages are protected under copyright laws of the Australia. In addition to this disclaimer, you acknowledge you have read and agree to be bound by the terms and conditions set out in the Waimak 'User Terms of Service. The information provided by Waimak and all related Waimak products is provided without regard to your investment goals, financial circumstances, investment knowledge, or personal attitudes towards risk, investing, or trading abilities. Investors can and do lose money from trading. Investments fail. You agree not to hold Waimak Asset Management Pty Ltd and all Waimak Employees and associates (including related entities) liable as a result of reading any material published on this Web site or provided by Waimak. The Information provided by Waimak is not to be relied upon for any of your investment decisions. Your decisions to buy, sell or hold any securities is as a result your own free will and your own research and in no way attributed to information accessed through Waimak.</p>

    </div>
</body>
</html>